(()=>{function e(a){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(a)}function a(a,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,(o=l.key,r=void 0,r=function(a,t){if("object"!==e(a)||null===a)return a;var n=a[Symbol.toPrimitive];if(void 0!==n){var l=n.call(a,t||"default");if("object"!==e(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(a)}(o,"string"),"symbol"===e(r)?r:String(r)),l)}var o,r}var t=function(){function e(){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,l;return t=e,l=[{key:"formatState",value:function(e){return!e.id||e.element.value.toLowerCase().includes("...")?e.text:$('<div>\n                <span class="dropdown-item-indicator">\n                    <img src="'.concat($("#language_flag_path").val()).concat(e.element.value.toLowerCase(),'.svg" class="flag" style="height: 16px;" alt="').concat(e.text,'">\n                </span>\n                <span>').concat(e.text,"</span>\n            </div\n        "))}},{key:"createOrUpdateLanguage",value:function(e,a,t,n,l,o,r,i){var c=$("#btn-language-submit"),g=c.data("store-url");i&&(g=$("#btn-language-submit-edit").data("update-url")+"?lang_code=".concat(n)),DreamTeamCore.showButtonLoading(c,!0),$httpClient.make().post(g,{lang_id:e.toString(),lang_name:a,lang_locale:t,lang_code:n,lang_flag:l,lang_order:o,lang_is_rtl:r}).then((function(l){var o=l.data;if(i)$(".table-language").find("tr[data-id="+e+"]").replaceWith(o.data);else{$(".table-language").append(o.data),$('.select-search-full option[value="'.concat(n,'"]')).remove(),$(".select-search-full").trigger("change");var r=new Option(a,t,!1,!1);$(".language-selector").append(r).trigger("change")}DreamTeamCore.showNotice("success",o.message)})).finally((function(){$("#language_id").val("").trigger("change"),$("#lang_name").val(""),$("#lang_locale").val(""),$("#lang_code").val(""),$('input[name=lang_rtl][value="0"]').prop("checked",!0),$("#flag_list").val("").trigger("change"),$("#btn-language-submit-edit").prop("id","btn-language-submit").text($("#btn-language-submit").data("add-language-text")),DreamTeamCore.hideButtonLoading(c)}))}}],(n=[{key:"init",value:function(){var a=this,t=$(".table-language");$(document).on("change","#language_id",(function(e){var a=$(e.currentTarget).find("option:selected").data("language");void 0!==a&&a.length>0&&($("#lang_name").val(a[2]),$("#lang_locale").val(a[0]),$("#lang_code").val(a[1]),$('input[name=lang_rtl][value="'.concat("rtl"===a[3]?1:0,'"]')).prop("checked",!0),$("#flag_list").val(a[4]).trigger("change"),$("#btn-language-submit-edit").prop("id","btn-language-submit").text($("#btn-language-submit").data("add-language-text")))})),$(document).on("click","#btn-language-submit",(function(a){a.preventDefault();var t=$("#lang_name").val(),n=$("#lang_locale").val(),l=$("#lang_code").val(),o=$("#flag_list").val(),r=$("#lang_order").val(),i=$("input[name=lang_rtl]:checked").val();e.createOrUpdateLanguage(0,t,n,l,o,r,i,0)})),$(document).on("click","#btn-language-submit-edit",(function(a){a.preventDefault();var t=$("#lang_id").val(),n=$("#lang_name").val(),l=$("#lang_locale").val(),o=$("#lang_code").val(),r=$("#flag_list").val(),i=$("#lang_order").val(),c=$("input[name=lang_rtl]:checked").val();e.createOrUpdateLanguage(t,n,l,o,r,i,c,1)})),t.on("click",".deleteDialog",(function(e){e.preventDefault(),$(".delete-crud-entry").data("section",$(e.currentTarget).data("section")),$(".modal-confirm-delete").modal("show")})),$(".delete-crud-entry").on("click",(function(e){e.preventDefault(),$(".modal-confirm-delete").modal("hide");var n=$(e.currentTarget).data("section");DreamTeamCore.showButtonLoading($(a)),$httpClient.make().delete(n).then((function(e){var a=e.data;a.data&&(t.find("i[data-id=".concat(a.data,"]")).unwrap(),$(".tooltip").remove()),t.find('button[data-section="'.concat(n,'"]')).closest("tr").remove(),DreamTeamCore.showNotice("success",a.message)})).finally((function(){DreamTeamCore.hideButtonLoading($(a))}))})),t.on("click",".change-status",(function(e){e.preventDefault();var a=$(e.currentTarget);$httpClient.make().post(a.data("section")).then((function(e){var t=e.data,n=a.find("input");n.prop("checked",!1),1==t.data.status&&n.prop("checked",!0),$(".tooltip").remove(),DreamTeamCore.showNotice("success",t.message)}))})),t.on("click",".edit-language-button",(function(e){e.preventDefault();var a=$(e.currentTarget);$httpClient.make().get(a.data("url")).then((function(e){var a=e.data.data;$(".select-search-full").val(a.code).trigger("change"),$("#lang_id").val(a.id),$("#lang_name").val(a.name),$("#lang_locale").val(a.locale),$("#lang_code").val(a.code),$("#flag_list").val(a.flag).trigger("change"),$('input[name=lang_rtl][value="'.concat(a.is_rtl?1:0,'"]')).prop("checked",!0),$("#lang_order").val(a.order),$("#btn-language-submit").prop("id","btn-language-submit-edit").text($("#btn-language-submit-edit").data("update-language-text")),window.scroll({top:0,behavior:"smooth"})}))})),$(document).on("submit","form.form-setting-language",(function(e){e.preventDefault();var a=$(e.currentTarget),t=a.find("button[type=submit]");DreamTeamCore.showButtonLoading(t),$httpClient.make().postForm(a.prop("action"),new FormData(a[0])).then((function(e){var t=e.data;DreamTeamCore.showNotice("success",t.message),a.removeClass("dirty"),window.location.reload()})).finally((function(){DreamTeamCore.hideButtonLoading(t)}))}))}}])&&a(t.prototype,n),l&&a(t,l),Object.defineProperty(t,"prototype",{writable:!1}),e}();$((function(){(new t).init()}))})();