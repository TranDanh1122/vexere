(()=>{$(document).ready((function(){t(),$("body").on("click","*[data-check__updatecore]",(function(){$.ajax({url:"/".concat(adminDir,"/plugins/marketplace/ajax/check-update_package"),type:"POST",success:function(t){window.location.reload()}})})),$("body").on("click",".open-wrap__update",(function(){$(this).parent().find(".wrap-package__update").slideToggle()}))}));var t=function(){$.ajax({url:"/".concat(adminDir,"/themes/marketplace/ajax/check-update"),type:"POST",success:function(t){var n=t.data||{},c=t.themeInfo||{};if(n){var i={};if(Object.keys(n).forEach((function(t){var e=n[t];e.id==c.id&&(i=e)})),i.id)e(c.version,i.version)&&($("#notice-theme").css({display:"block"}),$("#notice-theme .version").text(i.version),$("#notice-theme .date").text(a(i.updated_at)))}}}),$.ajax({url:"/".concat(adminDir,"/plugins/marketplace/ajax/check-update"),type:"POST",success:function(t){var a=t.data||{},n=t.installedPlugins||{};a&&Object.keys(a).forEach((function(t){var c=a[t],i=n[c.id]||"";null!=i&&""!=i&&null!=i&&(e(i,c.version)&&$("#notice-plugin").css({display:"block"}))}))}})},e=function(t,e){for(var a=t.toString().split("."),n=e.toString().split("."),c=Math.max(a.length,n.length),i=0;i<c;i++){var o=~~a[i];if(~~n[i]>o)return!0}return!1},a=function(t){var e=new Date(t),a=e.getDate(),n=e.getMonth()+1,c=e.getFullYear();return a=a<10?"0"+a:a,n=n<10?"0"+n:n,formattedDate="".concat(a,"-").concat(n,"-").concat(c)}})();