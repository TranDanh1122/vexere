(()=>{function e(){"open"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"open")?DreamTeamCore.showLoading():DreamTeamCore.hideLoading()}window.loadAjaxPost=function(n,a,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"progress",c={beforeSend:function(){},success:function(){},error:function(){}};$.extend(c,r),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:n,data:a,beforeSend:function(){switch(i){case"progress":o(0);break;case"loading":e("open")}c.beforeSend()},success:function(n){switch(i){case"progress":o(99,"close");break;case"loading":e("close")}c.success(n)},error:function(n){switch(i){case"progress":o(99,"close");break;case"loading":e("close")}t(errMessage,"error"),c.error(n)}})},window.loadAjaxGet=function(n,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"progress",i={beforeSend:function(){},success:function(){},error:function(){}};$.extend(i,a),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"GET",url:n,beforeSend:function(){switch(r){case"progress":o(0);break;case"loading":e("open")}i.beforeSend()},success:function(n){switch(r){case"progress":o(99,"close");break;case"loading":e("close")}i.success(n)},error:function(n){switch(r){case"progress":o(99,"close");break;case"loading":e("close")}t(errMessage,"error"),i.error(n)}})},window.loadingBox=e;var n=null;function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"open";clearInterval(n),$(".progress-box").css("display","block"),$(".progress-run").css("width",e+"%"),n=setInterval((function(){e<=100?($(".progress-run").css("width",e+"%"),e+=1):clearInterval(n)}),100),"close"==o&&setTimeout((function(){$(".progress-run").css("width","0%"),$(".progress-box").css("display","none")}),1e3)}function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";DreamTeamCore.showNotice(n,e)}function a(e){history.pushState(null,null,e)}function r(e){return null==e||("null"==e||(null==e||(""==e||e==[])))}window.activeProgress=o,window.alertText=t,window.Clipboard=function(e,n,o){var t;function a(){var a,r;o.userAgent.match(/ipad|iphone/i)?((a=n.createRange()).selectNodeContents(t),(r=e.getSelection()).removeAllRanges(),r.addRange(a),t.setSelectionRange(0,999999)):t.select()}return{copy:function(e){!function(e){(t=n.createElement("textArea")).value=e,n.body.appendChild(t)}(e),a(),n.execCommand("copy"),n.body.removeChild(t)}}}(window,document,navigator),window.copyText=function(e){if(document.execCommand("copy")){var n=$("<input />");n.val(e),$("body").append(n),n.select(),document.execCommand("copy"),n.remove()}else Clipboard.copy(e)},window.convertToSlug=function(e){var n=e.toLowerCase();return!(n=(n=(n=(n=(n=n.replace(/á|à|ả|ạ|ã|ă|ắ|ằ|ẳ|ẵ|ặ|â|ấ|ầ|ẩ|ẫ|ậ/gi,"a").replace(/é|è|ẻ|ẽ|ẹ|ê|ế|ề|ể|ễ|ệ/gi,"e").replace(/í|ì|ỉ|ĩ|ị/gi,"i").replace(/ó|ò|ỏ|õ|ọ|ô|ố|ồ|ổ|ỗ|ộ|ơ|ớ|ờ|ở|ỡ|ợ/gi,"o").replace(/ú|ù|ủ|ũ|ụ|ư|ứ|ừ|ử|ữ|ự/gi,"u").replace(/ý|ỳ|ỷ|ỹ|ỵ/gi,"y").replace(/đ/gi,"d")).replace(/\s+/g,"-")).replace(/[^a-z0-9-]/g,"")).replace(/-+/g,"-")).replace(/^-+|-+$/g,""))&&e?Date.now().toString():n},window.validateEmail=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},window.validatePhone=function(e){var n=!1;return""!=(e=(e=(e=(e=(e=e.trim()).replace("(+84)","0")).replace("+84","0")).replace("0084","0")).replace(/ /g,""))&&(n=e.length>=9&&e.length<=11),n},window.setLocalStorage=function(e,n){localStorage.setItem(e,n)},window.getLocalStorage=function(e){return localStorage.getItem(e)},window.setCookie=function(e,n,o){var t=new Date;t.setTime(t.getTime()+24*o*60*60*1e3),document.cookie=e+"="+n+";path=/;expires="+t.toUTCString()},window.setCookieWithPath=function(e,n,o){var t=new Date;t.setTime(t.getTime()+24*day*60*60*1e3),document.cookie=e+"="+o+";path="+n+";expires="+t.toUTCString()},window.getCookie=function(e){var n=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return n?n[2]:null},window.deleteCookie=function(e,n){var o=new Date;o.setTime(o.getTime()-1),document.cookie=e+"=; path="+n+"; expires="+o.toUTCString()},window.update_url=a,window.checkValue=function(e,n){for(var o=!1,t=0;t<n.length;t++){if(n[t]==e){o=!0;break}}return o},window.checkEmpty=r;function i(e){$("input.newUpdateUrl").val(e).change()}function c(e){return'<span class="error helper">'+e+"</span>"}function l(e){$("body").css("overflow","hidden"),$(".popup-container").addClass("show");var n="<p>".concat(e,"</p>");$(".popup-container .popup-title").append(n)}window.getUrlParameter=function(e,n){var o=new RegExp("[?&]"+n+"=([^&#]*)").exec(e);return null==o?null:decodeURI(o[1])||0},window.pushOrUpdate=function(e){var n=new URL(window.location.href);$.each(e,(function(e,o){n.searchParams.set(e,o)})),a(n.href)},window.newPushOrUpdate=function(e){var n=$("input.newUpdateUrl").val();r(n)&&(n=window.location.href);var o=new URL(n);$.each(e,(function(e,n){o.searchParams.set(e,n)})),i(o.href)},window.newUpdateUrl=i,window.passwordGenerator=function(e){for(var n=e||10,o="abcdefghijklmnopqrstuvwxyz",t="0123456789",a="!@#$%^&*()",r="",i="";r.length<n;)entity1=Math.ceil(o.length*Math.random()*Math.random()),entity2=Math.ceil(t.length*Math.random()*Math.random()),entity3=Math.ceil(a.length*Math.random()*Math.random()),hold=o.charAt(entity1),hold=r.length%2==0?hold.toUpperCase():hold,i+=hold,i+=t.charAt(entity2),r=i+=a.charAt(entity3);return(r=r.split("").sort((function(){return.5-Math.random()})).join("")).substr(0,e)},window.passwordStrength=function(e){var n=0;return 0==e.length||(e.match(/[a-z]+/)&&(n+=1),e.match(/[A-Z]+/)&&(n+=1),e.match(/[0-9]+/)&&(n+=1),e.match(/[!@#$%^&*()]+/)&&(n+=1),e.length>=6&&(n+=1)),n},window.addTinyMCE=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;id=e.replace("#",""),tinymce.execCommand("mceRemoveEditor",!1,id),tinymce.init({path_absolute:"/",selector:e,branding:!1,hidden_input:!1,relative_urls:!1,convert_urls:!1,height:n,autosave_ask_before_unload:!0,autosave_interval:"10s",autosave_restore_when_empty:!0,entity_encoding:"raw",fontsize_formats:"8px 9px 10px 11px 12px 13px 14px 15px 16px 17px 18px 19px 20px 22px 24px 26px 28px 30px 32px 36px 40px 46px 52px 60px",plugins:["textcolor toc","advlist autolink lists link image imagetools charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste wordcount"],wordcount_countregex:/[\w\u2019\x27\-\u00C0-\u1FFF]+/g,language:"vi"==$("meta[name=language]").attr("content")?"vi_VN":"",autosave_retention:"30m",autosave_prefix:"tinymce-autosave-{path}{query}-{id}-",wordcount_cleanregex:/[0-9.(),;:!?%#$?\x27\x22_+=\\\/\-]*/g,toolbar:"undo redo | bold italic | table | sudomedia | styleselect | fontselect |  fontsizeselect | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent | link unlink | fullscreen restoredraft | toc",setup:function(n){n.addButton("sudomedia",{icon:"image",label:"Nhúng ảnh vào nội dung",onclick:function(){admin_dir=$("meta[name=admin_dir]").attr("content"),url_media="/"+admin_dir+"/media?uploads=editor&field_id="+e.replace("#","")+"&only=image",$("#media").find("iframe").attr("src",url_media),$("#media").modal("toggle")}})}})},window.addSmallTinyMCE=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;id=e.replace("#",""),tinymce.execCommand("mceRemoveEditor",!1,id),tinymce.init({path_absolute:"/",selector:e,branding:!1,hidden_input:!1,relative_urls:!1,convert_urls:!1,height:n,entity_encoding:"raw",fontsize_formats:"8px 9px 10px 11px 12px 13px 14px 15px 16px 17px 18px 19px 20px 22px 24px 26px 28px 30px 32px 36px 40px 46px 52px 60px",plugins:["textcolor","advlist autolink lists link image anchor","media paste code"],wordcount_countregex:/[\w\u2019\x27\-\u00C0-\u1FFF]+/g,language:"vi"==$("meta[name=language]").attr("content")?"vi_VN":"en_US",wordcount_cleanregex:/[0-9.(),;:!?%#$?\x27\x22_+=\\\/\-]*/g,toolbar:"bold italic | styleselect |  fontsizeselect | forecolor | bullist numlist | outdent indent | link unlink, code",setup:function(n){n.addButton("sudomedia",{icon:"image",label:"Nhúng ảnh vào nội dung",onclick:function(){admin_dir=$("meta[name=admin_dir]").attr("content"),url_media="/"+admin_dir+"/media?uploads=editor&field_id="+e.replace("#","")+"&only=image",$("#media").find("iframe").attr("src",url_media),$("#media").modal("toggle")}}),n.on("change input",(function(){n.save()}))}}),$("body").find('.mce-toolbar.mce-stack-layout-item.mce-first[role="menubar"]').remove()},window.formLoading=function(e){switch($image="",e){case"loading":$image='<img src="/vendor/core/core/base/img/loading_image.gif" class="form-loading" alt="">';break;case"success":$image='<img src="/vendor/core/core/base/img/icon-check.png" class="form-loading" alt="">';break;case"error":$image='<img src="/vendor/core/core/base/img/icon-error.png" class="form-loading" alt="">'}return $image},window.formHelper=c,window.convertStringToNumber=function(e){$("body").on("click","button[type=submit]",(function(n){value=$(e).val(),value=value.replaceAll(",",""),value=parseInt(value),0==value&&(value=""),$(e).val(value)}))},window.validateInput=function(e,n){$("body").on("keyup change",e,(function(){$(e).parent().find(".error").remove(),$(e).css("border","1px solid #ced4da")})),$("body").on("click",".form-actions__group button[type=submit]",(function(o){value=$(e).val(),$(e).parent().find(".error").remove(),$(e).css("border","1px solid #ced4da"),r(value)&&(o.preventDefault(),$(e).parent().append(c(n)),l(n),$(e).css("border","1px solid #ff0000"))}))},window.openPopup=l,window.validateSlug=function(e,n,o){$(n).parent().find(".error").remove(),$(n).css("border","1px solid #ced4da"),0==e&&($(n).parent().append(c(o)),$(n).css("border","1px solid #ff0000"))},window.validateSelect=function(e,n){$("body").on("keyup change",e,(function(){$(e).parent().find(".error").remove(),$(e).css("border","1px solid #ced4da"),$(e).parent().find(".select2-selection").css("border","1px solid #ced4da")})),$("body").on("click",".form-actions__group button[type=submit]",(function(o){value=$(e).val(),$(e).parent().find(".error").remove(),$(e).parent().find(".select2-selection").css("border","1px solid #ced4da"),r(value)&&(o.preventDefault(),$(e).parent().append(c(n)),l(n),$(e).css("border","1px solid #ff0000"),$(e).parent().find(".select2-selection").css("border","1px solid #ff0000"))}))},window.format_price=function(e,n,o,t){$.extend(0,n),$.extend(",",o),$.extend(".",t),e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var a=isFinite(+e)?+e:0,r=isFinite(+n)?Math.abs(n):0,i=void 0===t?",":t,c=void 0===o?".":o,l="";return(l=(r?function(e,n){var o=Math.pow(10,n);return""+(Math.round(e*o)/o).toFixed(n)}(a,r):""+Math.round(a)).split("."))[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)),(l[1]||"").length<r&&(l[1]=l[1]||"",l[1]+=new Array(r-l[1].length+1).join("0")),l.join(c)}})();