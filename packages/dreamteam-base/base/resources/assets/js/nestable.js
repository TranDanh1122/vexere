(()=>{function t(t){return data_attribute="",$.each(t,(function(t,e){data_attribute+="data-".concat(t,'="').concat(e,'" ')})),html='<li class="dd-item" '.concat(data_attribute,'>\n        <div class="dd-handle">\n        \t<div class="dd-title">').concat(t.name,'</div>\n        </div>\n    \t<div class="dd-action">\n    \t\t<button type="button" class="remove" data-nestable_remove><i class="fas fa-trash"></i></button>\n    \t</div>\n    </li>'),html}$(document).ready((function(){$("body").on("click","*[data-nestable_action]",(function(t){t.preventDefault(),action=$(this).data("nestable_action"),id=$(this).attr("href"),$(id).nestable(action)})),$("body").on("click","*[data-nestable_remove]",(function(t){t.preventDefault(),id_name=$(this).closest(".dd").attr("id"),$(this).closest(".dd-item").remove(),$("#"+id_name).change()})),$("body").on("click","*[data-nestable_edit]",(function(t){t.preventDefault(),$(this).closest(".dd-item").children(".dd-collape").slideToggle("fast")})),$("body").on("click",".edit-link .edit-btn",(function(t){t.preventDefault();var e=$(this);e.closest(".sussget-menu_parent").find(".suggest_menu").val("").show(),e.parent().remove()})),$("body").on("click change keyup",".menu-name",(function(t){t.preventDefault(),$(this).css({"border-color":"#ced4da"})})),$("body").on("click",".menu-submit",(function(e){if(e.preventDefault(),type=$(this).data("type"),id_name=$(this).data("name"),name=$(this).closest(".card-body").find(".menu-name").val(),checkEmpty(name))$(this).closest(".card-body").find(".menu-name").css({"border-color":"red"});else{switch(recordName=$(this).closest(".card-body").find(".suggest_menu").val()||"",link=$(this).closest(".card-body").find(".menu-link").val(),target=$(this).closest(".card-body").find(".menu-target").val(),rel=$(this).closest(".card-body").find(".menu-rel").val(),data={type,name,recordName,link,target,rel},type){case"custom_link":case"fix_link":html=t(data);break;case"table_link":table=$(this).closest(".card-body").find(".menu-table").val(),id=$(this).closest(".card-body").find(".menu-id").val(),checkEmpty(table)||(data.table=table),checkEmpty(id)||(data.id=id),html=t(data)}$("#"+id_name).children(".dd-list").append(html),$("#"+id_name).change(),$(this).closest(".card-body").find("input.suggest_menu").val(""),$(this).closest(".card-body").find("input.suggest_menu").show(),$(this).closest(".card-body").find("input.menu-id").val(""),$(this).closest(".card-body").find(".edit-link").remove(),$(this).closest(".card-body").find("input.menu-name").val(""),$(this).closest(".card-body").find("input.menu-link").val(""),$(this).closest(".card-body").find("select.menu-link").prop("selectedIndex",0),$(this).closest(".card-body").find("select.menu-target").prop("selectedIndex",0),$(this).closest(".card-body").find("select.menu-rel").prop("selectedIndex",0)}}))})),window.changeMenu=function(t){array_class=["name","link","target","rel","suggest"],$.each(array_class,(function(e,a){$("body").on("change keyup",t+" .menu-"+a,(function(){if(value=$(this).val(),"link"==a&&(id=$(this).find("option:selected").data("id"),checkEmpty(id)||$(this).closest(".dd-item").attr("data-id",id).data("id",id)),"suggest"==a){var e=$(this).parent().find(".menu-link").val(),d=$(this).val();$(this).closest(".dd-item").attr("data-link",e).data("link",e),$(this).closest(".dd-item").attr("data-recordname",d).data("recordname",d);var n=$(this).parent().find(".menu-id").val();checkEmpty(n)||$(this).closest(".dd-item").attr("data-id",n).data("id",n)}$(this).closest(".dd-item").attr("data-"+a,value).data(a,value),$(t).change()}))}))},window.generateMenu=t})();